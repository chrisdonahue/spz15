#N canvas 100 27 1085 698 10;
#X declare -lib mrpeach;
#X obj 118 184 mtof~;
#X obj 161 165 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 105 45 1155 589 osc-parsing 1;
#X obj 46 45 import mrpeach;
#X obj 46 106 unpackOSC;
#X obj 347 175 routeOSC /on;
#X obj 459 172 routeOSC /off;
#X text 44 25 OSC parsing;
#X obj 516 216 print off-notenum;
#X obj 637 175 routeOSC /env;
#X obj 613 534 routeOSC /attack;
#X obj 742 253 routeOSC /release;
#X obj 828 170 routeOSC /pan;
#X obj 46 74 udpreceive 8080;
#X obj 26 386 coll;
#C restore;
#X msg 26 339 dump;
#X msg 141 349 123 0;
#X obj 946 170 routeOSC /lfo;
#X obj 654 438 routeOSC /decay;
#X obj 696 342 routeOSC /sustain;
#X obj 946 265 routeOSC /freq;
#X obj 1042 205 routeOSC /amount;
#X text 388 31 /on clientID 60 100;
#X obj 347 267 unpack f f f;
#X text 220 10 example messages:;
#X text 387 45 /off clientID 60;
#X obj 459 193 unpack f f;
#X obj 459 266 print clientID;
#X text 532 31 /env/attack clientID 10;
#X text 532 44 /env/decay clientID 20;
#X text 531 57 /env/sustain clientID 50;
#X text 531 69 /env/release clientID 100;
#X text 696 31 /pan clientID 0.5;
#X text 820 31 /lfo/freq clientID 2;
#X text 820 45 /lfo/amount clientID 5;
#X obj 613 557 unpack f f;
#X obj 613 596 print clientID;
#X obj 670 576 print attack;
#X obj 654 459 unpack f f;
#X obj 654 498 print clientID;
#X obj 711 478 print decay;
#X obj 696 363 unpack f f;
#X obj 696 402 print clientID;
#X obj 753 382 print sustain;
#X obj 742 277 unpack f f;
#X obj 742 316 print clientID;
#X obj 828 191 unpack f f;
#X obj 828 230 print clientID;
#X obj 799 296 print release;
#X obj 885 210 print pan;
#X obj 946 290 unpack f f;
#X obj 946 329 print clientID;
#X obj 1003 309 print lfo-freq;
#X obj 1042 228 unpack f f;
#X obj 1042 267 print clientID;
#X obj 1099 247 print lfo-amount;
#X text 240 31 /connect clientID;
#X text 240 45 /disconnect clientID;
#X obj 46 170 routeOSC /connect;
#X obj 188 173 routeOSC /disconnect;
#X obj 46 201 print con-clientID;
#X obj 188 204 print dis-clientID;
#X msg 95 348 222 1;
#X msg 247 350 clear;
#X msg 233 374 123;
#X msg 197 371 222;
#X obj 347 308 s get-voice;
#X obj 100 324 r get-voice;
#X obj 348 372 pack f f f;
#X obj 26 435 s voice-ind;
#X obj 348 340 r voice-ind;
#X msg 372 196 123 60 100;
#X obj 348 427 route 0 1;
#X obj 348 467 unpack;
#X obj 375 539 s 0-notenum;
#X obj 381 494 s 0-velocity;
#X obj 348 516 t b f;
#X obj 348 557 s 0-trigger;
#X obj 474 469 unpack;
#X obj 501 541 s 0-notenum;
#X obj 507 496 s 0-velocity;
#X obj 474 518 t b f;
#X obj 474 559 s 0-trigger;
#X msg 374 218 222 65 110;
#X text -2 295 this is for making a dictionary based on fingerprint
to voice number;
#X text 387 283 nn;
#X text 424 283 vel;
#X text 352 283 cID;
#X text 352 452 voice 0;
#X text 472 452 voice 1;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 1 0 6 0;
#X connect 1 0 9 0;
#X connect 1 0 14 0;
#X connect 1 0 55 0;
#X connect 1 0 56 0;
#X connect 2 0 20 0;
#X connect 3 0 23 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 6 0 15 0;
#X connect 6 0 16 0;
#X connect 7 0 32 0;
#X connect 8 0 41 0;
#X connect 9 0 43 0;
#X connect 10 0 1 0;
#X connect 11 0 66 0;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 14 0 17 0;
#X connect 14 0 18 0;
#X connect 15 0 35 0;
#X connect 16 0 38 0;
#X connect 17 0 47 0;
#X connect 18 0 50 0;
#X connect 20 0 63 0;
#X connect 20 1 65 1;
#X connect 20 2 65 2;
#X connect 23 0 24 0;
#X connect 23 1 5 0;
#X connect 32 0 33 0;
#X connect 32 1 34 0;
#X connect 35 0 36 0;
#X connect 35 1 37 0;
#X connect 38 0 39 0;
#X connect 38 1 40 0;
#X connect 41 0 42 0;
#X connect 41 1 45 0;
#X connect 43 0 44 0;
#X connect 43 1 46 0;
#X connect 47 0 48 0;
#X connect 47 1 49 0;
#X connect 50 0 51 0;
#X connect 50 1 52 0;
#X connect 55 0 57 0;
#X connect 56 0 58 0;
#X connect 59 0 11 0;
#X connect 60 0 11 0;
#X connect 61 0 11 0;
#X connect 62 0 11 0;
#X connect 64 0 11 0;
#X connect 65 0 69 0;
#X connect 67 0 65 0;
#X connect 68 0 20 0;
#X connect 69 0 70 0;
#X connect 69 1 75 0;
#X connect 70 0 73 0;
#X connect 70 1 72 0;
#X connect 73 0 74 0;
#X connect 73 1 71 0;
#X connect 75 0 78 0;
#X connect 75 1 77 0;
#X connect 78 0 79 0;
#X connect 78 1 76 0;
#X connect 80 0 20 0;
#X restore 90 48 pd osc-parsing;
#N canvas 240 87 1109 548 saw_sine 0;
#X obj 95 107 osc~;
#X obj 164 108 phasor~;
#X obj 94 261 +~;
#X obj 94 230 *~;
#X obj 163 226 *~;
#X obj 164 134 *~ 2;
#X obj 164 157 -~ 1;
#X obj 259 129 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 10160 1;
#X obj 256 198 -;
#X msg 256 173 1;
#X obj 256 154 t b f;
#X obj 256 76 loadbang;
#X msg 256 100 0.8;
#X obj 95 67 inlet~;
#X obj 93 500 outlet~;
#X obj 93 453 *~;
#X obj 291 410 *~;
#X obj 292 495 outlet~;
#X text 94 40 oscillators;
#X obj 94 313 *~;
#X obj 441 70 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 442 24 envelope;
#X obj 742 306 -;
#X msg 742 281 1;
#X obj 742 262 t b f;
#X obj 306 361 pack f 50;
#X obj 306 385 line~;
#X obj 810 210 loadbang;
#X msg 441 114 1;
#X msg 473 115 0;
#X obj 473 91 pipe 400;
#X obj 441 45 inlet trigger;
#X obj 477 138 inlet velocity;
#X obj 510 157 inlet attack;
#X obj 543 176 inlet decay;
#X obj 576 196 inlet sustain;
#X obj 609 217 inlet release;
#X text 534 90 <-- THIS IS RELEASE / off !!!;
#X text 461 68 <-- THIS IS ON !!!!;
#X text 741 208 panning;
#N canvas 281 37 759 654 adsr 0;
#X obj 115 121 inlet;
#X obj 445 161 inlet;
#X text 111 96 trigger;
#X obj 115 149 sel 0;
#X obj 254 165 t b;
#X obj 176 274 f \$1;
#X obj 176 299 pack 0 \$2;
#X obj 502 161 inlet;
#X obj 448 291 del \$2;
#X obj 468 439 line~;
#X obj 472 314 f \$4;
#X obj 511 389 pack 0 \$3;
#X obj 564 161 inlet;
#X obj 626 161 inlet;
#X obj 699 160 inlet;
#X msg 115 180 stop;
#X obj 622 316 pack 0 \$5;
#X text 445 139 level;
#X obj 511 365 * \$1;
#X obj 468 464 outlet~;
#X text 112 388 and pack with;
#X text 113 408 attack time;
#X text 41 136 if zero;
#X text 42 153 release;
#X text 22 170 and cancel;
#X text 53 187 decay;
#X text 294 282 on attack \, set a;
#X text 288 315 recall sustain value;
#X text 325 388 pack with decay time;
#X text 615 342 on release ramp;
#X text 616 359 back to zero;
#X obj 472 339 * 0.01;
#X text 57 577 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 23 12 ADSR ENVELOPE;
#X text 498 139 attack;
#X text 565 138 decay;
#X text 619 139 sustain;
#X text 696 139 release;
#X text 212 81 attack;
#X obj 214 102 moses;
#X obj 204 132 t b b;
#X msg 138 300 0;
#X text 30 283 optionally;
#X text 20 301 bash to zero;
#X text 35 256 ATTACK:;
#X text 59 487 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 265 99 test for negative trigger;
#X text 263 123 if so \, zero;
#X text 264 139 the output;
#X text 288 175 in any case;
#X text 313 365 multiply by peak level;
#X text 290 296 delay for sustain;
#X text 286 338 convert from percent;
#X text 165 350 ... then;
#X text 113 369 recall peak level;
#X text 449 123 peak;
#X text 291 159 ... do this;
#X text 57 539 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 218 11 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X text 24 27 this is from Miller's help;
#X text 25 40 files \, but isn't working;
#X text 25 51 so i made this abstraction;
#X floatatom 714 198 5 0 0 0 - - -;
#X floatatom 654 201 5 0 0 0 - - -;
#X floatatom 624 214 5 0 0 0 - - -;
#X floatatom 537 203 5 0 0 0 - - -;
#X floatatom 481 205 5 0 0 0 - - -;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 1 0 18 1;
#X connect 1 0 66 0;
#X connect 3 0 15 0;
#X connect 3 0 16 0;
#X connect 3 1 39 0;
#X connect 4 0 5 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 6 1;
#X connect 7 0 8 1;
#X connect 7 0 65 0;
#X connect 8 0 10 0;
#X connect 9 0 19 0;
#X connect 10 0 31 0;
#X connect 11 0 9 0;
#X connect 12 0 11 1;
#X connect 12 0 64 0;
#X connect 13 0 10 1;
#X connect 13 0 63 0;
#X connect 14 0 16 1;
#X connect 14 0 62 0;
#X connect 15 0 8 0;
#X connect 16 0 9 0;
#X connect 18 0 11 0;
#X connect 31 0 18 0;
#X connect 39 0 40 0;
#X connect 39 1 4 0;
#X connect 40 0 4 0;
#X connect 40 1 41 0;
#X connect 41 0 9 0;
#X restore 444 246 pd adsr 0 0.5 10 100 100 300;
#X msg 810 234 0.5;
#X obj 110 403 pack f 50;
#X obj 110 425 line~;
#X obj 742 226 inlet pan;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 19 0;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 10 0;
#X connect 7 0 3 1;
#X connect 8 0 4 1;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 10 1 8 1;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 13 0 0 0;
#X connect 13 0 1 0;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 19 0 15 0;
#X connect 19 0 16 0;
#X connect 20 0 28 0;
#X connect 20 0 30 0;
#X connect 22 0 42 0;
#X connect 23 0 22 0;
#X connect 24 0 23 0;
#X connect 24 1 22 1;
#X connect 25 0 26 0;
#X connect 26 0 16 1;
#X connect 27 0 41 0;
#X connect 28 0 40 0;
#X connect 29 0 40 0;
#X connect 30 0 29 0;
#X connect 31 0 20 0;
#X connect 32 0 40 1;
#X connect 33 0 40 2;
#X connect 34 0 40 3;
#X connect 35 0 40 4;
#X connect 36 0 40 5;
#X connect 40 0 19 1;
#X connect 41 0 24 0;
#X connect 41 0 25 0;
#X connect 42 0 43 0;
#X connect 43 0 15 1;
#X connect 44 0 24 0;
#X connect 44 0 25 0;
#X restore -25 481 pd saw_sine;
#X obj 118 549 output~;
#X obj 532 148 vsl 15 128 0 3000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 200 1;
#X obj 551 148 vsl 15 128 10 3000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 1600 1;
#X obj 591 148 vsl 15 128 10 3000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 8300 1;
#X obj 572 148 vsl 15 128 0 100 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4800 1;
#X text 532 129 A;
#X text 552 130 D;
#X text 573 130 S;
#X text 592 131 R;
#X obj 500 149 vsl 15 128 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 5800 1;
#X obj 624 149 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2500 1;
#X text 623 130 pan;
#X text 496 128 vel;
#X obj 38 454 r pan;
#X obj 11 391 r decay;
#X obj 20 411 r sustain;
#X obj 29 431 r release;
#X obj -7 352 r vel;
#X obj 2 371 r attack;
#X obj -16 329 r trigger;
#X msg 71 130 25;
#N canvas 289 189 279 341 process 0;
#X obj 34 192 freeverb~;
#X msg 178 114 width 1;
#X msg 179 137 wet 0.5;
#X msg 179 158 dry 0.5;
#X obj 140 55 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 178 92 damping 0.3;
#X msg 179 71 roomsize 0.1;
#X obj 140 30 loadbang;
#X obj 34 64 inlet~;
#X obj 34 274 outlet~;
#X obj 85 274 outlet~;
#X obj 85 65 inlet~;
#X connect 0 0 9 0;
#X connect 0 1 10 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 4 0 5 0;
#X connect 4 0 1 0;
#X connect 4 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 4 0;
#X connect 8 0 0 0;
#X connect 11 0 0 1;
#X restore 118 492 pd process;
#N canvas 289 189 279 341 process 0;
#X obj 34 192 freeverb~;
#X msg 178 114 width 1;
#X msg 179 137 wet 0.5;
#X msg 179 158 dry 0.5;
#X obj 140 55 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 178 92 damping 0.3;
#X msg 179 71 roomsize 0.1;
#X obj 140 30 loadbang;
#X obj 34 64 inlet~;
#X obj 34 274 outlet~;
#X obj 85 274 outlet~;
#X obj 85 65 inlet~;
#X connect 0 0 9 0;
#X connect 0 1 10 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 4 0 5 0;
#X connect 4 0 1 0;
#X connect 4 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 4 0;
#X connect 8 0 0 0;
#X connect 11 0 0 1;
#X restore -25 556 pd process;
#X obj 433 153 vsl 15 128 0 100 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 455 153 vsl 15 128 0 100 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X text 433 132 LFO;
#X text -57 503 ignore this for now;
#X obj 139 241 r 0-lfo-amount;
#X obj 148 262 r 0-trigger;
#X obj 158 282 r 0-velocity;
#X obj 167 302 r 0-attack;
#X obj 173 321 r 0-decay;
#X obj 181 341 r 0-sustain;
#X obj 188 361 r 0-release;
#X obj 197 382 r 0-pan;
#X obj 279 243 r 1-lfo-amount;
#X obj 288 264 r 1-trigger;
#X obj 298 284 r 1-velocity;
#X obj 307 304 r 1-attack;
#X obj 313 323 r 1-decay;
#X obj 321 343 r 1-sustain;
#X obj 328 363 r 1-release;
#X obj 337 384 r 1-pan;
#X obj 161 184 s 0-trigger;
#X obj 456 415 s 0-lfo-amount;
#X obj 500 385 s 0-velocity;
#X obj 532 365 s 0-attack;
#X obj 551 345 s 0-decay;
#X obj 572 325 s 0-sustain;
#X obj 591 305 s 0-release;
#X obj 624 285 s 0-pan;
#X msg 433 68 60;
#X msg 461 68 61;
#X msg 491 68 62;
#X msg 519 68 63;
#X msg 551 68 64;
#X msg 579 68 65;
#X msg 637 68 67;
#X msg 666 68 68;
#X msg 694 68 69;
#X msg 724 68 70;
#X msg 752 68 71;
#X msg 609 68 66;
#X obj 117 94 r 0-notenum;
#X obj 432 107 s 0-notenum;
#X obj 259 111 r 1-notenum;
#X obj 259 178 mtof~;
#X obj 117 117 t b f;
#X obj 259 139 t b f;
#X obj 304 162 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 304 181 s 1-trigger;
#X obj 792 213 vsl 15 128 0 3000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 1800 1;
#X obj 811 213 vsl 15 128 10 3000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 3700 1;
#X obj 851 213 vsl 15 128 10 3000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2800 1;
#X obj 832 213 vsl 15 128 0 100 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 8700 1;
#X text 792 194 A;
#X text 812 195 D;
#X text 833 195 S;
#X text 852 196 R;
#X obj 760 214 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 5300 1;
#X obj 884 214 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 9700 1;
#X text 883 195 pan;
#X text 756 193 vel;
#X obj 693 218 vsl 15 128 0 100 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 7700 1;
#X obj 715 218 vsl 15 128 0 100 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 5300 1;
#X text 693 197 LFO;
#X msg 693 133 60;
#X msg 721 133 61;
#X msg 751 133 62;
#X msg 779 133 63;
#X msg 811 133 64;
#X msg 839 133 65;
#X msg 897 133 67;
#X msg 926 133 68;
#X msg 954 133 69;
#X msg 984 133 70;
#X msg 1012 133 71;
#X msg 869 133 66;
#X obj 692 172 s 1-notenum;
#X obj 716 480 s 1-lfo-amount;
#X obj 760 450 s 1-velocity;
#X obj 792 430 s 1-attack;
#X obj 811 410 s 1-decay;
#X obj 832 390 s 1-sustain;
#X obj 851 370 s 1-release;
#X obj 884 350 s 1-pan;
#X floatatom 374 156 5 0 0 0 - - -;
#X obj 694 503 s 1-lfo-freq;
#X obj 269 223 r 1-lfo-freq;
#X obj 118 428 two_saws;
#X obj 434 438 s 0-lfo-freq;
#X obj 129 221 r 0-lfo-freq;
#X obj 258 430 two_saws;
#X connect 0 0 3 0;
#X connect 0 0 113 0;
#X connect 1 0 47 0;
#X connect 3 0 26 0;
#X connect 3 1 26 1;
#X connect 5 0 50 0;
#X connect 6 0 51 0;
#X connect 7 0 53 0;
#X connect 8 0 52 0;
#X connect 13 0 49 0;
#X connect 14 0 54 0;
#X connect 17 0 3 7;
#X connect 18 0 3 4;
#X connect 19 0 3 5;
#X connect 20 0 3 6;
#X connect 21 0 3 2;
#X connect 22 0 3 3;
#X connect 23 0 3 1;
#X connect 24 0 0 0;
#X connect 24 0 1 0;
#X connect 25 0 4 0;
#X connect 25 1 4 1;
#X connect 27 0 114 0;
#X connect 28 0 48 0;
#X connect 31 0 113 2;
#X connect 32 0 113 3;
#X connect 33 0 113 4;
#X connect 34 0 113 5;
#X connect 35 0 113 6;
#X connect 36 0 113 7;
#X connect 37 0 113 8;
#X connect 38 0 113 9;
#X connect 39 0 116 2;
#X connect 40 0 116 3;
#X connect 41 0 116 4;
#X connect 42 0 116 5;
#X connect 43 0 116 6;
#X connect 44 0 116 7;
#X connect 45 0 116 8;
#X connect 46 0 116 9;
#X connect 55 0 68 0;
#X connect 56 0 68 0;
#X connect 57 0 68 0;
#X connect 58 0 68 0;
#X connect 59 0 68 0;
#X connect 60 0 68 0;
#X connect 61 0 68 0;
#X connect 62 0 68 0;
#X connect 63 0 68 0;
#X connect 64 0 68 0;
#X connect 65 0 68 0;
#X connect 66 0 68 0;
#X connect 67 0 71 0;
#X connect 69 0 72 0;
#X connect 69 0 110 0;
#X connect 70 0 116 0;
#X connect 71 0 1 0;
#X connect 71 1 0 0;
#X connect 72 0 73 0;
#X connect 72 1 70 0;
#X connect 73 0 74 0;
#X connect 75 0 105 0;
#X connect 76 0 106 0;
#X connect 77 0 108 0;
#X connect 78 0 107 0;
#X connect 83 0 104 0;
#X connect 84 0 109 0;
#X connect 87 0 111 0;
#X connect 88 0 103 0;
#X connect 90 0 102 0;
#X connect 91 0 102 0;
#X connect 92 0 102 0;
#X connect 93 0 102 0;
#X connect 94 0 102 0;
#X connect 95 0 102 0;
#X connect 96 0 102 0;
#X connect 97 0 102 0;
#X connect 98 0 102 0;
#X connect 99 0 102 0;
#X connect 100 0 102 0;
#X connect 101 0 102 0;
#X connect 112 0 116 1;
#X connect 113 0 25 0;
#X connect 113 1 25 1;
#X connect 115 0 113 1;
#X connect 116 0 25 0;
#X connect 116 1 25 1;
