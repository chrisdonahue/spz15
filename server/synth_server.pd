#N canvas 50 57 827 689 10;
#X declare -lib mrpeach;
#X obj 118 184 mtof~;
#X obj 289 543 output~;
#X msg 116 35 60;
#X msg 144 35 61;
#X msg 174 35 62;
#X msg 202 35 63;
#X msg 234 35 64;
#X msg 262 35 65;
#X msg 320 35 67;
#X msg 349 35 68;
#X msg 377 35 69;
#X msg 407 35 70;
#X msg 435 35 71;
#X obj 255 173 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 112 17 internal testing;
#X obj 159 167 r on-notenum;
#N canvas 197 173 777 481 osc-parsing 0;
#X obj 46 45 import mrpeach;
#X obj 46 106 unpackOSC;
#X obj 46 134 routeOSC /on;
#X obj 46 171 unpack f f;
#X obj 114 209 print vel;
#X obj 103 231 / 127;
#X obj 103 255 s vel;
#X obj 193 136 routeOSC /off;
#X text 44 25 OSC parsing;
#X obj 193 206 print off-notenum;
#X obj 61 283 print on-notenum;
#X obj 47 306 s on-notenum;
#X obj 328 136 routeOSC /env;
#X obj 328 167 routeOSC /attack;
#X obj 438 167 routeOSC /release;
#X obj 328 207 print attack;
#X obj 438 208 print release;
#X obj 558 134 routeOSC /pan;
#X msg 559 209 print pan;
#X obj 570 175 s pan;
#X obj 46 74 udpreceive 8080;
#X obj 404 323 coll;
#C restore;
#X msg 404 276 dump;
#X obj 404 384 print;
#X msg 575 309 123;
#X msg 463 315 123 0;
#X msg 473 285 12 1;
#X msg 593 341 12;
#X connect 1 0 2 0;
#X connect 1 0 7 0;
#X connect 1 0 12 0;
#X connect 1 0 17 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 3 0 11 0;
#X connect 3 1 4 0;
#X connect 3 1 5 0;
#X connect 5 0 6 0;
#X connect 7 0 9 0;
#X connect 12 0 13 0;
#X connect 12 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 16 0;
#X connect 17 0 18 0;
#X connect 17 0 19 0;
#X connect 20 0 1 0;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 24 0 21 0;
#X connect 25 0 21 0;
#X connect 26 0 21 0;
#X connect 27 0 21 0;
#X restore 579 17 pd osc-parsing;
#N canvas 137 49 912 627 two_saws 1;
#X obj 72 171 phasor~;
#X obj 72 208 *~ 2;
#X obj 72 237 -~ 1;
#X obj 144 171 phasor~;
#X obj 144 208 *~ 2;
#X obj 144 237 -~ 1;
#X obj 72 292 +~;
#X obj 72 592 outlet~;
#X obj 395 68 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 396 22 envelope;
#X obj 72 426 *~;
#X obj 706 342 -;
#X msg 706 317 1;
#X obj 706 298 t b f;
#X obj 72 507 *~;
#X obj 194 537 *~;
#X obj 87 462 pack f 50;
#X obj 87 484 line~;
#X obj 209 486 pack f 50;
#X obj 209 510 line~;
#X obj 774 246 loadbang;
#X text 69 13 oscillators;
#X obj 194 591 outlet~;
#X obj 186 223 vsl 15 128 100 2100 0 0 empty empty empty 0 -9 0 10
-262144 -1 -1 6700 1;
#X floatatom 186 362 5 0 0 0 - - -;
#X text 187 204 bp f0;
#X msg 395 112 1;
#X msg 427 113 0;
#X obj 427 89 pipe 400;
#X obj 71 34 inlet~ midiNote;
#X obj 395 43 inlet trigger;
#X obj 431 136 inlet velocity;
#X obj 464 155 inlet attack;
#X obj 497 174 inlet decay;
#X obj 530 194 inlet sustain;
#X obj 563 215 inlet release;
#X text 488 88 <-- THIS IS RELEASE / off !!!;
#X text 415 66 <-- THIS IS ON !!!!;
#X text 705 244 panning;
#N canvas 281 37 759 654 adsr 0;
#X obj 115 121 inlet;
#X obj 445 161 inlet;
#X text 111 96 trigger;
#X obj 115 149 sel 0;
#X obj 254 165 t b;
#X obj 176 274 f \$1;
#X obj 176 299 pack 0 \$2;
#X obj 502 161 inlet;
#X obj 448 291 del \$2;
#X obj 468 439 line~;
#X obj 472 314 f \$4;
#X obj 511 389 pack 0 \$3;
#X obj 564 161 inlet;
#X obj 626 161 inlet;
#X obj 699 160 inlet;
#X msg 115 180 stop;
#X obj 622 316 pack 0 \$5;
#X text 445 139 level;
#X obj 511 365 * \$1;
#X obj 468 464 outlet~;
#X text 112 388 and pack with;
#X text 113 408 attack time;
#X text 41 136 if zero;
#X text 42 153 release;
#X text 22 170 and cancel;
#X text 53 187 decay;
#X text 294 282 on attack \, set a;
#X text 288 315 recall sustain value;
#X text 325 388 pack with decay time;
#X text 615 342 on release ramp;
#X text 616 359 back to zero;
#X obj 472 339 * 0.01;
#X text 57 577 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 23 12 ADSR ENVELOPE;
#X text 498 139 attack;
#X text 565 138 decay;
#X text 619 139 sustain;
#X text 696 139 release;
#X text 212 81 attack;
#X obj 214 102 moses;
#X obj 204 132 t b b;
#X msg 138 300 0;
#X text 30 283 optionally;
#X text 20 301 bash to zero;
#X text 35 256 ATTACK:;
#X text 59 487 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 265 99 test for negative trigger;
#X text 263 123 if so \, zero;
#X text 264 139 the output;
#X text 288 175 in any case;
#X text 313 365 multiply by peak level;
#X text 290 296 delay for sustain;
#X text 286 338 convert from percent;
#X text 165 350 ... then;
#X text 113 369 recall peak level;
#X text 449 123 peak;
#X text 291 159 ... do this;
#X text 57 539 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 218 11 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X text 24 27 this is from Miller's help;
#X text 25 40 files \, but isn't working;
#X text 25 51 so i made this abstraction;
#X floatatom 714 198 5 0 0 0 - - -;
#X floatatom 654 201 5 0 0 0 - - -;
#X floatatom 624 214 5 0 0 0 - - -;
#X floatatom 537 203 5 0 0 0 - - -;
#X floatatom 481 205 5 0 0 0 - - -;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 1 0 18 1;
#X connect 1 0 66 0;
#X connect 3 0 15 0;
#X connect 3 0 16 0;
#X connect 3 1 39 0;
#X connect 4 0 5 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 6 1;
#X connect 7 0 8 1;
#X connect 7 0 65 0;
#X connect 8 0 10 0;
#X connect 9 0 19 0;
#X connect 10 0 31 0;
#X connect 11 0 9 0;
#X connect 12 0 11 1;
#X connect 12 0 64 0;
#X connect 13 0 10 1;
#X connect 13 0 63 0;
#X connect 14 0 16 1;
#X connect 14 0 62 0;
#X connect 15 0 8 0;
#X connect 16 0 9 0;
#X connect 18 0 11 0;
#X connect 31 0 18 0;
#X connect 39 0 40 0;
#X connect 39 1 4 0;
#X connect 40 0 4 0;
#X connect 40 1 41 0;
#X connect 41 0 9 0;
#X restore 398 244 pd adsr 0 0.5 10 100 100 300;
#X msg 774 270 0.5;
#X obj 706 263 inlet pan;
#X obj 72 558 clip~ -1 1;
#X obj 191 100 * 5;
#X obj 194 77 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 254 1;
#X obj 144 149 +~;
#X obj 72 146 -~;
#X obj 170 130 sig~;
#X obj 87 124 sig~;
#X text 220 95 fatness;
#X obj 191 37 loadbang;
#X msg 191 56 0.02;
#X obj 72 361 bp~ 1000 5;
#X obj 72 324 *~ 0.4;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 53 0;
#X connect 8 0 26 0;
#X connect 8 0 28 0;
#X connect 10 0 14 0;
#X connect 10 0 15 0;
#X connect 11 0 16 0;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X connect 13 1 11 1;
#X connect 14 0 42 0;
#X connect 15 0 22 0;
#X connect 16 0 17 0;
#X connect 17 0 14 1;
#X connect 18 0 19 0;
#X connect 19 0 15 1;
#X connect 20 0 40 0;
#X connect 23 0 24 0;
#X connect 23 0 52 1;
#X connect 26 0 39 0;
#X connect 27 0 39 0;
#X connect 28 0 27 0;
#X connect 29 0 46 0;
#X connect 29 0 45 0;
#X connect 30 0 8 0;
#X connect 31 0 39 1;
#X connect 32 0 39 2;
#X connect 33 0 39 3;
#X connect 34 0 39 4;
#X connect 35 0 39 5;
#X connect 39 0 10 1;
#X connect 40 0 13 0;
#X connect 40 0 18 0;
#X connect 41 0 13 0;
#X connect 41 0 18 0;
#X connect 42 0 7 0;
#X connect 43 0 47 0;
#X connect 43 0 48 0;
#X connect 44 0 43 0;
#X connect 45 0 3 0;
#X connect 46 0 0 0;
#X connect 47 0 45 1;
#X connect 48 0 46 1;
#X connect 50 0 51 0;
#X connect 51 0 44 0;
#X connect 52 0 10 0;
#X connect 53 0 52 0;
#X restore 118 381 pd two_saws;
#N canvas 240 87 1109 548 saw_sine 0;
#X obj 95 107 osc~;
#X obj 164 108 phasor~;
#X obj 94 261 +~;
#X obj 94 230 *~;
#X obj 163 226 *~;
#X obj 164 134 *~ 2;
#X obj 164 157 -~ 1;
#X obj 259 129 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 10160 1;
#X obj 256 198 -;
#X msg 256 173 1;
#X obj 256 154 t b f;
#X obj 256 76 loadbang;
#X msg 256 100 0.8;
#X obj 95 67 inlet~;
#X obj 93 500 outlet~;
#X obj 93 453 *~;
#X obj 291 410 *~;
#X obj 292 495 outlet~;
#X text 94 40 oscillators;
#X obj 94 313 *~;
#X obj 441 70 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 442 24 envelope;
#X obj 742 306 -;
#X msg 742 281 1;
#X obj 742 262 t b f;
#X obj 306 361 pack f 50;
#X obj 306 385 line~;
#X obj 810 210 loadbang;
#X msg 441 114 1;
#X msg 473 115 0;
#X obj 473 91 pipe 400;
#X obj 441 45 inlet trigger;
#X obj 477 138 inlet velocity;
#X obj 510 157 inlet attack;
#X obj 543 176 inlet decay;
#X obj 576 196 inlet sustain;
#X obj 609 217 inlet release;
#X text 534 90 <-- THIS IS RELEASE / off !!!;
#X text 461 68 <-- THIS IS ON !!!!;
#X text 741 208 panning;
#N canvas 281 37 759 654 adsr 0;
#X obj 115 121 inlet;
#X obj 445 161 inlet;
#X text 111 96 trigger;
#X obj 115 149 sel 0;
#X obj 254 165 t b;
#X obj 176 274 f \$1;
#X obj 176 299 pack 0 \$2;
#X obj 502 161 inlet;
#X obj 448 291 del \$2;
#X obj 468 439 line~;
#X obj 472 314 f \$4;
#X obj 511 389 pack 0 \$3;
#X obj 564 161 inlet;
#X obj 626 161 inlet;
#X obj 699 160 inlet;
#X msg 115 180 stop;
#X obj 622 316 pack 0 \$5;
#X text 445 139 level;
#X obj 511 365 * \$1;
#X obj 468 464 outlet~;
#X text 112 388 and pack with;
#X text 113 408 attack time;
#X text 41 136 if zero;
#X text 42 153 release;
#X text 22 170 and cancel;
#X text 53 187 decay;
#X text 294 282 on attack \, set a;
#X text 288 315 recall sustain value;
#X text 325 388 pack with decay time;
#X text 615 342 on release ramp;
#X text 616 359 back to zero;
#X obj 472 339 * 0.01;
#X text 57 577 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 23 12 ADSR ENVELOPE;
#X text 498 139 attack;
#X text 565 138 decay;
#X text 619 139 sustain;
#X text 696 139 release;
#X text 212 81 attack;
#X obj 214 102 moses;
#X obj 204 132 t b b;
#X msg 138 300 0;
#X text 30 283 optionally;
#X text 20 301 bash to zero;
#X text 35 256 ATTACK:;
#X text 59 487 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 265 99 test for negative trigger;
#X text 263 123 if so \, zero;
#X text 264 139 the output;
#X text 288 175 in any case;
#X text 313 365 multiply by peak level;
#X text 290 296 delay for sustain;
#X text 286 338 convert from percent;
#X text 165 350 ... then;
#X text 113 369 recall peak level;
#X text 449 123 peak;
#X text 291 159 ... do this;
#X text 57 539 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 218 11 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X text 24 27 this is from Miller's help;
#X text 25 40 files \, but isn't working;
#X text 25 51 so i made this abstraction;
#X floatatom 714 198 5 0 0 0 - - -;
#X floatatom 654 201 5 0 0 0 - - -;
#X floatatom 624 214 5 0 0 0 - - -;
#X floatatom 537 203 5 0 0 0 - - -;
#X floatatom 481 205 5 0 0 0 - - -;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 1 0 18 1;
#X connect 1 0 66 0;
#X connect 3 0 15 0;
#X connect 3 0 16 0;
#X connect 3 1 39 0;
#X connect 4 0 5 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 6 1;
#X connect 7 0 8 1;
#X connect 7 0 65 0;
#X connect 8 0 10 0;
#X connect 9 0 19 0;
#X connect 10 0 31 0;
#X connect 11 0 9 0;
#X connect 12 0 11 1;
#X connect 12 0 64 0;
#X connect 13 0 10 1;
#X connect 13 0 63 0;
#X connect 14 0 16 1;
#X connect 14 0 62 0;
#X connect 15 0 8 0;
#X connect 16 0 9 0;
#X connect 18 0 11 0;
#X connect 31 0 18 0;
#X connect 39 0 40 0;
#X connect 39 1 4 0;
#X connect 40 0 4 0;
#X connect 40 1 41 0;
#X connect 41 0 9 0;
#X restore 444 246 pd adsr 0 0.5 10 100 100 300;
#X msg 810 234 0.5;
#X obj 110 403 pack f 50;
#X obj 110 425 line~;
#X obj 742 226 inlet pan;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 19 0;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 10 0;
#X connect 7 0 3 1;
#X connect 8 0 4 1;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 10 1 8 1;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 13 0 0 0;
#X connect 13 0 1 0;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 19 0 15 0;
#X connect 19 0 16 0;
#X connect 20 0 28 0;
#X connect 20 0 30 0;
#X connect 22 0 42 0;
#X connect 23 0 22 0;
#X connect 24 0 23 0;
#X connect 24 1 22 1;
#X connect 25 0 26 0;
#X connect 26 0 16 1;
#X connect 27 0 41 0;
#X connect 28 0 40 0;
#X connect 29 0 40 0;
#X connect 30 0 29 0;
#X connect 31 0 20 0;
#X connect 32 0 40 1;
#X connect 33 0 40 2;
#X connect 34 0 40 3;
#X connect 35 0 40 4;
#X connect 36 0 40 5;
#X connect 40 0 19 1;
#X connect 41 0 24 0;
#X connect 41 0 25 0;
#X connect 42 0 43 0;
#X connect 43 0 15 1;
#X connect 44 0 24 0;
#X connect 44 0 25 0;
#X restore 289 378 pd saw_sine;
#X obj 181 352 r pan;
#X obj 118 549 output~;
#X obj 617 130 vsl 15 128 0 3000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 800 1;
#X obj 636 130 vsl 15 128 10 3000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 6800 1;
#X obj 676 130 vsl 15 128 10 3000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 5400 1;
#X obj 657 130 vsl 15 128 0 100 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4400 1;
#X text 617 111 A;
#X text 637 112 D;
#X text 658 112 S;
#X text 677 113 R;
#X obj 617 347 s attack;
#X obj 636 327 s decay;
#X obj 657 307 s sustain;
#X obj 676 287 s release;
#X obj 154 289 r decay;
#X obj 163 309 r sustain;
#X obj 172 329 r release;
#X obj 136 250 r vel;
#X obj 145 269 r attack;
#X obj 127 227 r trigger;
#X obj 255 199 s trigger;
#X msg 292 35 66;
#X obj 585 131 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2300 1;
#X obj 585 367 s vel;
#X obj 709 131 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 5800 1;
#X text 708 112 pan;
#X text 577 110 vel;
#X obj 709 267 s pan;
#X obj 352 351 r pan;
#X obj 325 288 r decay;
#X obj 334 308 r sustain;
#X obj 343 328 r release;
#X obj 307 249 r vel;
#X obj 316 268 r attack;
#X obj 298 226 r trigger;
#X msg 75 34 25;
#N canvas 289 189 279 341 process 0;
#X obj 34 192 freeverb~;
#X msg 178 114 width 1;
#X msg 179 137 wet 0.5;
#X msg 179 158 dry 0.5;
#X obj 140 55 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 178 92 damping 0.3;
#X msg 179 71 roomsize 0.1;
#X obj 140 30 loadbang;
#X obj 34 64 inlet~;
#X obj 34 274 outlet~;
#X obj 85 274 outlet~;
#X obj 85 65 inlet~;
#X connect 0 0 9 0;
#X connect 0 1 10 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 4 0 5 0;
#X connect 4 0 1 0;
#X connect 4 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 4 0;
#X connect 8 0 0 0;
#X connect 11 0 0 1;
#X restore 118 454 pd process;
#N canvas 289 189 279 341 process 0;
#X obj 34 192 freeverb~;
#X msg 178 114 width 1;
#X msg 179 137 wet 0.5;
#X msg 179 158 dry 0.5;
#X obj 140 55 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 178 92 damping 0.3;
#X msg 179 71 roomsize 0.1;
#X obj 140 30 loadbang;
#X obj 34 64 inlet~;
#X obj 34 274 outlet~;
#X obj 85 274 outlet~;
#X obj 85 65 inlet~;
#X connect 0 0 9 0;
#X connect 0 1 10 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 4 0 5 0;
#X connect 4 0 1 0;
#X connect 4 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 4 0;
#X connect 8 0 0 0;
#X connect 11 0 0 1;
#X restore 289 453 pd process;
#X connect 0 0 18 0;
#X connect 0 0 17 0;
#X connect 2 0 0 0;
#X connect 2 0 13 0;
#X connect 3 0 0 0;
#X connect 3 0 13 0;
#X connect 4 0 0 0;
#X connect 4 0 13 0;
#X connect 5 0 0 0;
#X connect 5 0 13 0;
#X connect 6 0 0 0;
#X connect 6 0 13 0;
#X connect 7 0 0 0;
#X connect 7 0 13 0;
#X connect 8 0 0 0;
#X connect 8 0 13 0;
#X connect 9 0 0 0;
#X connect 9 0 13 0;
#X connect 10 0 0 0;
#X connect 10 0 13 0;
#X connect 11 0 0 0;
#X connect 11 0 13 0;
#X connect 12 0 0 0;
#X connect 12 0 13 0;
#X connect 13 0 39 0;
#X connect 15 0 0 0;
#X connect 17 0 55 0;
#X connect 17 1 55 1;
#X connect 18 0 56 0;
#X connect 18 1 56 1;
#X connect 19 0 17 7;
#X connect 21 0 29 0;
#X connect 22 0 30 0;
#X connect 23 0 32 0;
#X connect 24 0 31 0;
#X connect 33 0 17 4;
#X connect 34 0 17 5;
#X connect 35 0 17 6;
#X connect 36 0 17 2;
#X connect 37 0 17 3;
#X connect 38 0 17 1;
#X connect 40 0 0 0;
#X connect 40 0 13 0;
#X connect 41 0 42 0;
#X connect 43 0 46 0;
#X connect 47 0 18 7;
#X connect 48 0 18 4;
#X connect 49 0 18 5;
#X connect 50 0 18 6;
#X connect 51 0 18 2;
#X connect 52 0 18 3;
#X connect 53 0 18 1;
#X connect 54 0 0 0;
#X connect 54 0 13 0;
#X connect 55 0 20 0;
#X connect 55 1 20 1;
#X connect 56 0 1 0;
#X connect 56 1 1 1;
