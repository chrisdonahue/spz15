#N canvas 0 22 1217 704 10;
#X obj 83 312 phasor~;
#X obj 83 349 *~ 2;
#X obj 83 378 -~ 1;
#X obj 152 315 phasor~;
#X obj 152 346 *~ 2;
#X obj 152 375 -~ 1;
#X obj 83 412 +~;
#X obj 83 697 outlet~;
#X obj 564 223 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 561 179 envelope;
#X obj 83 546 *~;
#X obj 83 627 *~;
#X obj 358 639 *~;
#X obj 98 582 pack f 50;
#X obj 98 604 line~;
#X obj 373 588 pack f 50;
#X obj 373 612 line~;
#X text 190 297 oscillators;
#X obj 358 693 outlet~;
#X obj 302 292 vsl 15 128 100 2100 0 0 empty empty empty 0 -9 0 10
-262144 -1 -1 0 1;
#X floatatom 302 431 5 0 0 0 - - -;
#X text 297 273 bp f0;
#X msg 564 267 1;
#X msg 596 268 0;
#X obj 596 244 pipe 400;
#X text 657 243 <-- THIS IS RELEASE / off !!!;
#X text 586 223 <-- THIS IS ON !!!!;
#X text 288 484 panning;
#N canvas 281 37 759 654 adsr 0;
#X obj 115 121 inlet;
#X obj 445 161 inlet;
#X text 111 96 trigger;
#X obj 115 149 sel 0;
#X obj 254 165 t b;
#X obj 176 274 f \$1;
#X obj 176 299 pack 0 \$2;
#X obj 502 161 inlet;
#X obj 448 291 del \$2;
#X obj 468 439 line~;
#X obj 472 314 f \$4;
#X obj 511 389 pack 0 \$3;
#X obj 564 161 inlet;
#X obj 626 161 inlet;
#X obj 699 160 inlet;
#X msg 115 180 stop;
#X obj 622 316 pack 0 \$5;
#X text 445 139 level;
#X obj 511 365 * \$1;
#X obj 468 464 outlet~;
#X text 112 388 and pack with;
#X text 113 408 attack time;
#X text 41 136 if zero;
#X text 42 153 release;
#X text 22 170 and cancel;
#X text 53 187 decay;
#X text 294 282 on attack \, set a;
#X text 288 315 recall sustain value;
#X text 325 388 pack with decay time;
#X text 615 342 on release ramp;
#X text 616 359 back to zero;
#X obj 472 339 * 0.01;
#X text 57 577 Objects such as "f" and "pack" can be given dollar sign
arguments to initialize their contents from adsr's creation arguments.
Inlets are supplied to change them on the fly.;
#X text 23 12 ADSR ENVELOPE;
#X text 498 139 attack;
#X text 565 138 decay;
#X text 619 139 sustain;
#X text 696 139 release;
#X text 212 81 attack;
#X obj 214 102 moses;
#X obj 204 132 t b b;
#X msg 138 300 0;
#X text 30 283 optionally;
#X text 20 301 bash to zero;
#X text 35 256 ATTACK:;
#X text 59 487 When you send this patch a positive trigger it schedules
a line~ to do an attack and decay \, and if zero \, it starts the release
ramp.;
#X text 265 99 test for negative trigger;
#X text 263 123 if so \, zero;
#X text 264 139 the output;
#X text 288 175 in any case;
#X text 313 365 multiply by peak level;
#X text 290 296 delay for sustain;
#X text 286 338 convert from percent;
#X text 165 350 ... then;
#X text 113 369 recall peak level;
#X text 449 123 peak;
#X text 291 159 ... do this;
#X text 57 539 Negative triggers cause the output to jump to zero and
then attack (instead of attacking from the current location).;
#X text 218 11 Arguments: level \, attack time \, decay time \, sustain
level \, release time. A \, D \, and R are in msec and S is in percent.
This patch is used as an abstraction in various examples.;
#X text 24 27 this is from Miller's help;
#X text 25 40 files \, but isn't working;
#X text 25 51 so i made this abstraction;
#X floatatom 714 198 5 0 0 0 - - -;
#X floatatom 654 201 5 0 0 0 - - -;
#X floatatom 624 214 5 0 0 0 - - -;
#X floatatom 537 203 5 0 0 0 - - -;
#X floatatom 481 205 5 0 0 0 - - -;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 1 0 18 1;
#X connect 1 0 66 0;
#X connect 3 0 15 0;
#X connect 3 0 16 0;
#X connect 3 1 39 0;
#X connect 4 0 5 0;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 6 1;
#X connect 7 0 8 1;
#X connect 7 0 65 0;
#X connect 8 0 10 0;
#X connect 9 0 19 0;
#X connect 10 0 31 0;
#X connect 11 0 9 0;
#X connect 12 0 11 1;
#X connect 12 0 64 0;
#X connect 13 0 10 1;
#X connect 13 0 63 0;
#X connect 14 0 16 1;
#X connect 14 0 62 0;
#X connect 15 0 8 0;
#X connect 16 0 9 0;
#X connect 18 0 11 0;
#X connect 31 0 18 0;
#X connect 39 0 40 0;
#X connect 39 1 4 0;
#X connect 40 0 4 0;
#X connect 40 1 41 0;
#X connect 41 0 9 0;
#X restore 567 399 pd adsr 0 0.5 10 100 100 300;
#X obj 83 663 clip~ -1 1;
#X obj 367 204 * 5;
#X obj 370 181 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 254 1;
#X obj 152 287 +~;
#X obj 83 287 -~;
#X obj 178 268 sig~;
#X obj 98 265 sig~;
#X text 365 124 fatness;
#X obj 367 141 loadbang;
#X msg 367 160 0.02;
#X obj 83 501 bp~ 1000 5;
#X obj 83 444 *~ 0.4;
#X obj 98 170 osc~;
#X obj 101 149 hsl 128 15 0 100 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 98 214 *~;
#X obj 140 189 hsl 128 15 0 100 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 83 236 +~;
#X text 205 132 LFO;
#X text 182 172 comment;
#X obj 358 664 clip~ -1 1;
#X text 284 39 lfo controls;
#X obj 600 298 r \$0-velocity;
#X obj 633 318 r \$0-attack;
#X obj 666 337 r \$0-decay;
#X obj 699 356 r \$0-sustain;
#X obj 732 376 r \$0-release;
#X obj 564 198 r \$0-trigger;
#X obj 289 504 r \$0-pan;
#N canvas 690 166 368 349 pan-weights 0;
#X obj 98 248 -;
#X msg 98 223 1;
#X obj 98 204 t b f;
#X obj 59 134 loadbang;
#X msg 59 158 0.5;
#X obj 122 106 inlet;
#X obj 98 299 outlet;
#X obj 207 303 outlet;
#X connect 0 0 6 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 2 1 0 1;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 5 0 7 0;
#X restore 289 533 pd pan-weights;
#X obj 484 85 s \$0-trigger;
#X obj 570 83 s \$0-velocity;
#X obj 662 85 s \$0-attack;
#X obj 743 83 s \$0-decay;
#X obj 820 84 s \$0-sustain;
#X obj 910 83 s \$0-release;
#X obj 1001 83 s \$0-pan;
#X obj 286 61 inlet;
#X obj 378 62 inlet;
#X obj 484 62 inlet;
#X obj 570 61 inlet;
#X obj 662 61 inlet;
#X obj 743 60 inlet;
#X obj 820 61 inlet;
#X obj 910 61 inlet;
#X obj 1001 59 inlet;
#X text 479 41 envelope controls;
#X text 998 41 pan control;
#X obj 83 43 inlet~;
#X obj 98 129 r \$0-lfo-freq;
#X obj 137 169 r \$0-lfo-amount;
#X obj 286 83 s \$0-lfo-freq;
#X obj 378 84 s \$0-lfo-amount;
#X obj 600 362 / 127;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 40 0;
#X connect 8 0 22 0;
#X connect 8 0 24 0;
#X connect 10 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 29 0;
#X connect 12 0 48 0;
#X connect 13 0 14 0;
#X connect 14 0 11 1;
#X connect 15 0 16 0;
#X connect 16 0 12 1;
#X connect 19 0 20 0;
#X connect 19 0 39 1;
#X connect 22 0 28 0;
#X connect 23 0 28 0;
#X connect 24 0 23 0;
#X connect 28 0 10 1;
#X connect 29 0 7 0;
#X connect 30 0 34 0;
#X connect 30 0 35 0;
#X connect 31 0 30 0;
#X connect 32 0 3 0;
#X connect 33 0 0 0;
#X connect 34 0 32 1;
#X connect 35 0 33 1;
#X connect 37 0 38 0;
#X connect 38 0 31 0;
#X connect 39 0 10 0;
#X connect 40 0 39 0;
#X connect 41 0 43 0;
#X connect 42 0 41 0;
#X connect 43 0 45 1;
#X connect 44 0 43 1;
#X connect 45 0 32 0;
#X connect 45 0 33 0;
#X connect 48 0 18 0;
#X connect 50 0 81 0;
#X connect 51 0 28 2;
#X connect 52 0 28 3;
#X connect 53 0 28 4;
#X connect 54 0 28 5;
#X connect 55 0 8 0;
#X connect 56 0 57 0;
#X connect 57 0 13 0;
#X connect 57 1 15 0;
#X connect 65 0 79 0;
#X connect 66 0 80 0;
#X connect 67 0 58 0;
#X connect 68 0 59 0;
#X connect 69 0 60 0;
#X connect 70 0 61 0;
#X connect 71 0 62 0;
#X connect 72 0 63 0;
#X connect 73 0 64 0;
#X connect 76 0 45 0;
#X connect 77 0 42 0;
#X connect 78 0 44 0;
#X connect 81 0 28 1;
